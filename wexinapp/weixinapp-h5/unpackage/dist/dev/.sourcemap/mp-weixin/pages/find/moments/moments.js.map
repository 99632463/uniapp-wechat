{"version":3,"sources":["uni-app:///main.js","webpack:///E:/program/uni-app/weixinapp-h5/pages/find/moments/moments.vue?78fb","webpack:///E:/program/uni-app/weixinapp-h5/pages/find/moments/moments.vue?3262","webpack:///E:/program/uni-app/weixinapp-h5/pages/find/moments/moments.vue?9bf7","webpack:///E:/program/uni-app/weixinapp-h5/pages/find/moments/moments.vue?816e","uni-app:///pages/find/moments/moments.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,wG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AAC8K;AAC9K,gBAAgB,kLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,0oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiD/qB;AACA;AACA,0CADA;AAEA,kCAFA;AAGA,wBAHA;AAIA,kCAJA;AAKA,kCALA,EADA;;AAQA,MARA,kBAQA;AACA;AACA,kBADA;AAEA,sBAFA;AAGA,iBAHA;AAIA,oVAJA;AAKA;AACA;AACA,4BADA;AAEA,gDAFA;AAGA,8BAHA;AAIA;AACA,wCADA;AAEA,wCAFA,CAJA;;AAQA;AACA,uCADA;AAEA,0CAFA,EARA;;AAYA,8BAZA;AAaA;AACA,uBADA;AAEA,uBAFA;AAGA,uBAHA,CAbA;;AAkBA;AACA;AACA;AACA,sBADA,EADA;;AAIA;AACA,4BADA,EAJA;;AAOA,oCAPA,EADA;;AAUA;AACA;AACA,sBADA,EADA;;AAIA;AACA,4BADA,EAJA;;AAOA,oCAPA,EAVA,CAlBA,EADA,CALA;;;;;AA8CA;AACA,sBA/CA;;AAiDA,GA1DA;AA2DA,cA3DA,wBA2DA,CA3DA,EA2DA;AACA;AACA,GA7DA;AA8DA;AACA;AACA,cAFA,wBAEA;AACA;AACA,kCADA;AAEA,mCAFA;AAGA,iCAHA;;;AAMA;AACA,yDADA;AAEA;AACA;AACA,qFADA;;AAGA,SANA;;AAQA,KAjBA;AAkBA,YAlBA,oBAkBA,CAlBA,EAkBA;AACA;AACA,8BADA;AAEA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAZA;;AAcA,KAjCA;AAkCA;AACA,aAnCA,qBAmCA,CAnCA,EAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArDA;AAsDA;AACA,mBAvDA,6BAuDA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KA5DA;AA6DA,cA7DA,sBA6DA,CA7DA,EA6DA;AACA;AACA;AACA;AACA;AACA;AACA,KAnEA;AAoEA;AACA,WArEA,mBAqEA,IArEA,EAqEA;AACA;AACA,KAvEA;AAwEA;AACA,QAzEA,kBAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9FA,EA9DA,E","file":"pages/find/moments/moments.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/find/moments/moments.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./moments.vue?vue&type=template&id=1243b1fa&\"\nvar renderjs\nimport script from \"./moments.vue?vue&type=script&lang=js&\"\nexport * from \"./moments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/find/moments/moments.vue\"\nexport default component.exports","export * from \"-!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=template&id=1243b1fa&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<freeTransparentBar :scrollTop='scrollTop' @clickRight='clickRight'></freeTransparentBar>\r\n\t\t\n\t\t<view class=\"position-relative\" style=\"height: 620rpx;\">\r\n\t\t\t<image src=\"https://douyinzcmcss.oss-cn-shenzhen.aliyuncs.com/shengchengqi/datapic/1.jpg\" mode='aspectFill' style=\"height: 590rpx;\" class=\"bg-secondary w-100\"></image>\r\n\t\t\t<image src='../../../static/video/demo.jpg' style=\"width: 120rpx;height: 120rpx;right: 30rpx;\" class=\"bg-secondary rounded position-absolute bottom-0\"></image>\r\n\t\t\t<text class=\"text-white font-md position-absolute\"\r\n\t\t\tstyle=\"bottom: 45rpx;right: 160rpx;\">summer</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 朋友圈列表 -->\r\n\t\t<!-- 朋友圈列表 -->\r\n\t\t<free-moment-list v-for=\"(item,index) in list\" :key=\"index\"\r\n\t\t:item=\"item\" :index=\"index\" @action=\"doAction\" @reply=\"replyEvent\"></free-moment-list>\r\n\t\t\r\n\t\t<!-- 评论框 -->\r\n\t\t<free-popup ref=\"action\" bottom transformOrigin=\"center bottom\">\r\n\t\t\t<view style=\"height: 105rpx;\" class=\"bg-light border-top flex align-center px-3\">\r\n\t\t\t\t<textarea fixed class=\"bg-white rounded p-2 font-md\" style=\"height: 80rpx;width: 480rpx;\" :focus=\"true\" v-model=\"content\"/>\r\n\t\t\t\t<free-icon-button :icon=\"'\\ue605'\"\r\n\t\t\t\t@click=\"changeFaceModal\"></free-icon-button>\r\n\t\t\t\t<free-main-button name=\"发送\" :disabled=\"content.length === 0\" @click=\"send\"></free-main-button>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view v-if=\"faceModal\" scroll-y=\"true\" \r\n\t\t\tstyle=\"height: 350rpx;\"\r\n\t\t\tclass=\"bg-light\">\r\n\t\t\t\t<view class=\"flex flex-wrap\">\r\n\t\t\t\t\t<view style=\"width: 107rpx;height: 107rpx;\"\r\n\t\t\t\t\tclass=\"flex align-center justify-center\"\r\n\t\t\t\t\thover-class=\"bg-white\"\r\n\t\t\t\t\tv-for=\"(item,index) in faceList\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t@click=\"addFace(item)\">\r\n\t\t\t\t\t\t<text>{{item}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</free-popup>\n\t</view>\n</template>\n\n<script>\r\n\timport freeTransparentBar from '@/components/free-ui/free-transparent-bar.vue';\r\n\timport freeMomentList from '@/components/free-ui/free-moment-list.vue';\r\n\timport freePopup from '@/components/free-ui/free-popup.vue';\r\n\timport freeIconButton from \"@/components/free-ui/free-icon-button.vue\"\r\n\timport freeMainButton from '@/components/free-ui/free-main-button.vue';\r\n\t\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tfreeTransparentBar,\r\n\t\t\tfreeMomentList,\r\n\t\t\tfreePopup,\r\n\t\t\tfreeIconButton,\r\n\t\t\tfreeMainButton\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tfaceModal:false,\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tfaceList:[\"😀\",\"😁\",\"😂\",\"😃\",\"😄\",\"😅\",\"😆\",\"😉\",\"😊\",\"😋\",\"😎\",\"😍\",\"😘\",\"😗\",\"😙\",\"😚\",\"😇\",\"😐\",\"😑\",\"😶\",\"😏\",\"😣\",\"😥\",\"😮\",\"😯\",\"😪\",\"😫\",\"😴\",\"😌\",\"😛\",\"😜\",\"😝\",\"😒\",\"😓\",\"😔\",\"😕\",\"😲\",\"😷\",\"😖\",\"😞\",\"😟\",\"😤\",\"😢\",\"😭\",\"😦\",\"😧\",\"😨\",\"😬\",\"😰\",\"😱\",\"😳\",\"😵\",\"😡\",\"😠\"],\r\n\t\t\t\tlist: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuser_name: 'wnagkai',\r\n\t\t\t\t\t\tavatar: '../../../static/video/demo.jpg',\r\n\t\t\t\t\t\tcontent: 'hello world',\r\n\t\t\t\t\t\timage: [\r\n\t\t\t\t\t\t\t'../../../static/video/demo.jpg',\r\n\t\t\t\t\t\t\t'../../../static/video/demo.jpg',\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tvideo: {\r\n\t\t\t\t\t\t\tsrc: '/static/video/demo.mp4',\r\n\t\t\t\t\t\t\tposter: '/static/video/demo.jpg'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcreated_at: Date.now(),\r\n\t\t\t\t\t\tlikes: [\r\n\t\t\t\t\t\t\t{name: 'aaa'},\r\n\t\t\t\t\t\t\t{name: 'bbb'},\r\n\t\t\t\t\t\t\t{name: 'bbb'},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tcomments: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\treply: {\r\n\t\t\t\t\t\t\t\t\tname: '好的'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\t\t\tname: 'zhangsan'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcontent: 'testtestesttest'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\treply: {\r\n\t\t\t\t\t\t\t\t\tname: '好的'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\t\t\tname: 'zhangsan'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcontent: 'testtestesttest'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 评论的对象\r\n\t\t\t\tcommentIndex:-1,\n\t\t\t}\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.scrollTop = e.scrollTop\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 选择发表朋友圈类型\r\n\t\t\tclickRight(){\r\n\t\t\t\tlet list = [\r\n\t\t\t\t\t{name:'图文',key:'image'},\r\n\t\t\t\t\t{name:'短视频',key:'video'},\r\n\t\t\t\t\t{name:'文字',key:'text'},\r\n\t\t\t\t]\r\n\t\t\t\t\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: list.map(o => o.name),\r\n\t\t\t\t\tsuccess:(res)=> {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/find/add-moments/add-moments?type='+list[res.tapIndex].key,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tdoAction(e){\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['点赞','评论'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.tapIndex === 0){\r\n\t\t\t\t\t\t\tthis.doSupport(e)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.content = ''\r\n\t\t\t\t\t\t\tthis.faceModal = false\r\n\t\t\t\t\t\t\tthis.commentIndex = e.index\r\n\t\t\t\t\t\t\t// this.reply_user = false\r\n\t\t\t\t\t\t\tthis.$refs.action.show()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点赞\r\n\t\t\tdoSupport(e){\r\n\t\t\t\t// $H.post('/moment/like',{\r\n\t\t\t\t// \tid:e.item.moment_id\r\n\t\t\t\t// }).then(res=>{\r\n\t\t\t\t// \tlet i = e.item.likes.findIndex(item=>item.id === this.user.id)\r\n\t\t\t\t// \tif(i !== -1){ // 取消点赞\r\n\t\t\t\t// \t\te.item.likes.splice(i,1)\r\n\t\t\t\t// \t} else { // 点赞\r\n\t\t\t\t// \t\te.item.likes.push({\r\n\t\t\t\t// \t\t\tid:this.user.id,\r\n\t\t\t\t// \t\t\tname:this.user.nickname || this.user.username\r\n\t\t\t\t// \t\t})\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ttitle: i !== -1 ? '取消点赞成功' : '点赞成功',\r\n\t\t\t\t// \t\ticon: 'none'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// 开启/关闭表情包面板\r\n\t\t\tchangeFaceModal(){\r\n\t\t\t\tuni.hideKeyboard()\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.faceModal = !this.faceModal\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t\treplyEvent(e){\r\n\t\t\t\t// this.content = ''\r\n\t\t\t\t// this.faceModal = false\r\n\t\t\t\t// this.commentIndex = e.index\r\n\t\t\t\t// this.reply_user = e.reply\r\n\t\t\t\t// this.$refs.action.show()\r\n\t\t\t},\r\n\t\t\t// 添加表情\r\n\t\t\taddFace(item){\r\n\t\t\t\tthis.content += item\r\n\t\t\t},\r\n\t\t\t// 发送\r\n\t\t\tsend(){\r\n\t\t\t\tlet item = this.list[this.commentIndex]\r\n\t\t\t\t// $H.post('/moment/comment',{\r\n\t\t\t\t// \tid:item.moment_id,\r\n\t\t\t\t// \tcontent:this.content,\r\n\t\t\t\t// \treply_id:this.reply_user ? this.reply_user.id : 0\r\n\t\t\t\t// }).then(res=>{\r\n\t\t\t\t// \titem.comments.push({\r\n\t\t\t\t// \t\tcontent:this.content,\r\n\t\t\t\t// \t\tuser:{\r\n\t\t\t\t// \t\t\tid:this.user.id,\r\n\t\t\t\t// \t\t\tname:this.user.nickname || this.user.username\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\treply:this.reply ? this.reply : null\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ttitle: '评论成功',\r\n\t\t\t\t// \t\ticon: 'none'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$refs.action.hide()\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}