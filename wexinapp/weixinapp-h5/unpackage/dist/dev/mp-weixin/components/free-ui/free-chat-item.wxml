<view data-event-opts="{{[['longpress',[['long',['$event']]]]]}}" bindlongpress="__e" class="_div"><block wx:if="{{showTime}}"><view class="flex align-center justify-center pb-4 pt-2"><text class="font-sm text-light-muted">{{showTime}}</text></view></block><block wx:if="{{item.isremove}}"><view data-ref="isremove" class="flex align-center justify-center pb-4 pt-10 chat-animate vue-ref"><text class="font-sm text-light-muted">你撤回了一条消息</text></view></block><block wx:if="{{item.type==='system'}}"><view data-ref="isremove" class="flex align-center justify-center pb-4 pt-10 vue-ref"><text class="font-sm text-light-muted">{{item.data}}</text></view></block><block wx:if="{{item.type!=='system'&&!item.isremove}}"><view class="{{['flex','justify-start','align-start','position-relative','mb-3',isself?'justify-end':'justify-start']}}"><block wx:if="{{!isself}}"><free-avatar vue-id="1b61d00a-1" size="{{70}}" src="{{item.from_avatar}}" clickType="navigate" bind:__l="__l"></free-avatar><block wx:if="{{hasLabelClass}}"><text class="iconfont text-white font-md position-absolute chat-left-icon" style="{{(shownickname?'top:60rpx':'20rpx')}}"></text></block></block><view class="flex flex-column"><block wx:if="{{shownickname}}"><view class="{{['flex','_div',nicknameClass]}}" style="{{'max-width:500rpx;background-color:rgba(0, 0, 0, 0);'+(labelStyle)}}"><text class="font-sm text-muted">{{item.from_name}}</text></view></block><view class="{{['p-2','rounded','_div',labelClass]}}" style="{{'max-width:500rpx;'+(labelStyle)}}"><block wx:if="{{item.type=='text'}}"><text class="font-md">{{item.data}}</text></block><block wx:else><block wx:if="{{item.type=='emoticon'||item.type=='image'}}"><free-image vue-id="1b61d00a-2" src="{{item.data}}" imageClass="rounded" maxHeight="{{300}}" maxWidth="{{500}}" data-event-opts="{{[['^click',[['preview',['$0'],['item.data']]]]]}}" bind:click="__e" bind:__l="__l"></free-image></block><block wx:else><block wx:if="{{item.type=='audio'}}"><view data-event-opts="{{[['tap',[['openAudio',['$event']]]]]}}" class="flex align-center" bindtap="__e"><block wx:if="{{isself}}"><image class="mx-1" style="width:50rpx;height:50rpx;" src="{{audioPlaying?'/static/audio/play.gif':'/static/audio/audio3.png'}}"></image></block><text class="font">{{item.options.time+"''"}}</text><block wx:if="{{!isself}}"><image class="mx-1" style="width:50rpx;height:50rpx;" src="{{audioPlaying?'/static/audio/play.gif':'/static/audio/audio3.png'}}"></image></block></view></block><block wx:else><block wx:if="{{item.type=='video'}}"><view data-event-opts="{{[['tap',[['openVideo',['$event']]]]]}}" class="position-relative rounded" bindtap="__e"><free-image vue-id="1b61d00a-3" src="{{item.options.poster}}" imageClass="rounded" maxHeight="{{350}}" maxWidth="{{300}}" data-event-opts="{{[['^load',[['loadPoster']]]]}}" bind:load="__e" bind:__l="__l"></free-image><text class="iconfont text-white position-absolute" style="{{'font-size:80rpx;'+(posterIconStyle)}}"></text></view></block></block></block></block></view></view><block wx:if="{{isself}}"><block wx:if="{{hasLabelClass}}"><text class="iconfont text-chat-item font-md position-absolute chat-right-icon" style="{{(shownickname?'top:60rpx':'top:20rpx')}}"></text></block><free-avatar vue-id="1b61d00a-4" size="{{70}}" src="{{item.from_avatar}}" clickType="navigate" bind:__l="__l"></free-avatar></block></view></block><block wx:if="{{item.sendStatus&&item.sendStatus!=='success'}}"><view class="flex align-center justify-end px-4"><text class="{{['font-sm',item.sendStatus=='fail'?'text-danger':'text-muted']}}">{{''+(item.sendStatus=='fail'?'发送失败':'发送中...')+''}}</text></view></block></view>